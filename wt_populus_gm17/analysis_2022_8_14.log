mkdir R2
mv *_R2_* R2/
//bartender uses only one read

for f in *.fastq; do echo $f >> read_numbers.txt; less $f | grep "@" | wc -l >> read_numbers.txt; done
//take read numbers from txt and add to meta_samples.csv

//BARTENDER analysis (https://github.com/LaoZZZZZ/bartender-1.1)
for f in *.fastq; do bartender_extractor_com -f $f -o $(basename $f .fastq).extract -p TCTCT[20]CGTAC -d both -q ?; printf "\n\n"; done &> bartender_extractor.log

for f in *extract_barcode.txt; do bartender_single_com -f $f -o $(basename $f _barcode.txt).cluster; printf "\n\n"; done &> bartender_single_com.log

mkdir extracts
mv *.txt extracts/
mv *_barcode.csv extracts/

//in the following be sure to list parameters in the order of the samples! i.e. 1,2,3,... not 1,10,2,... and DO NOT USE SPACES BETWEEN THE FILES, ONLY COMMAS
bartender_combiner_com -f 001_R1_001.extract.cluster_cluster.csv,001_R1_001.extract.cluster_quality.csv,002_R1_001.extract.cluster_cluster.csv,002_R1_001.extract.cluster_quality.csv,003_R1_001.extract.cluster_cluster.csv,003_R1_001.extract.cluster_quality.csv,004_R1_001.extract.cluster_cluster.csv,004_R1_001.extract.cluster_quality.csv,005_R1_001.extract.cluster_cluster.csv,005_R1_001.extract.cluster_quality.csv,006_R1_001.extract.cluster_cluster.csv,006_R1_001.extract.cluster_quality.csv,007_R1_001.extract.cluster_cluster.csv,007_R1_001.extract.cluster_quality.csv,008_R1_001.extract.cluster_cluster.csv,008_R1_001.extract.cluster_quality.csv,009_R1_001.extract.cluster_cluster.csv,009_R1_001.extract.cluster_quality.csv,010_R1_001.extract.cluster_cluster.csv,010_R1_001.extract.cluster_quality.csv,011_R1_001.extract.cluster_cluster.csv,011_R1_001.extract.cluster_quality.csv,012_R1_001.extract.cluster_cluster.csv,012_R1_001.extract.cluster_quality.csv,013_R1_001.extract.cluster_cluster.csv,013_R1_001.extract.cluster_quality.csv,014_R1_001.extract.cluster_cluster.csv,014_R1_001.extract.cluster_quality.csv,015_R1_001.extract.cluster_cluster.csv,015_R1_001.extract.cluster_quality.csv,016_R1_001.extract.cluster_cluster.csv,016_R1_001.extract.cluster_quality.csv,017_R1_001.extract.cluster_cluster.csv,017_R1_001.extract.cluster_quality.csv,018_R1_001.extract.cluster_cluster.csv,018_R1_001.extract.cluster_quality.csv,019_R1_001.extract.cluster_cluster.csv,019_R1_001.extract.cluster_quality.csv,020_R1_001.extract.cluster_cluster.csv,020_R1_001.extract.cluster_quality.csv,021_R1_001.extract.cluster_cluster.csv,021_R1_001.extract.cluster_quality.csv,022_R1_001.extract.cluster_cluster.csv,022_R1_001.extract.cluster_quality.csv,023_R1_001.extract.cluster_cluster.csv,023_R1_001.extract.cluster_quality.csv,024_R1_001.extract.cluster_cluster.csv,024_R1_001.extract.cluster_quality.csv,025_R1_001.extract.cluster_cluster.csv,025_R1_001.extract.cluster_quality.csv,026_R1_001.extract.cluster_cluster.csv,026_R1_001.extract.cluster_quality.csv,027_R1_001.extract.cluster_cluster.csv,027_R1_001.extract.cluster_quality.csv,028_R1_001.extract.cluster_cluster.csv,028_R1_001.extract.cluster_quality.csv,029_R1_001.extract.cluster_cluster.csv,029_R1_001.extract.cluster_quality.csv,030_R1_001.extract.cluster_cluster.csv,030_R1_001.extract.cluster_quality.csv,031_R1_001.extract.cluster_cluster.csv,031_R1_001.extract.cluster_quality.csv,032_R1_001.extract.cluster_cluster.csv,032_R1_001.extract.cluster_quality.csv,033_R1_001.extract.cluster_cluster.csv,033_R1_001.extract.cluster_quality.csv,034_R1_001.extract.cluster_cluster.csv,034_R1_001.extract.cluster_quality.csv,035_R1_001.extract.cluster_cluster.csv,035_R1_001.extract.cluster_quality.csv,036_R1_001.extract.cluster_cluster.csv,036_R1_001.extract.cluster_quality.csv,147_R1_001.extract.cluster_cluster.csv,147_R1_001.extract.cluster_quality.csv -o oe_gm17 -c 1 &> bartender_combiner.log
